# Case 5 代币支付

## 用例图

![us-代币支付](https://s2.ax1x.com/2019/06/23/ZCLgo9.png)

### 范围

全应用

### 级别

用户目标

### 主要参与者

任务发起者、任务完成者

### 涉及关注点

- 任务发起者：任务发起者希望通过代币鼓励潜在的任务完成者完成任务。为了方便快捷的进行小金额、大批量的支付操作，要求一个能够支持无手续费、交易便捷的机制。App 引入了代币支付系统，由任务发起者在个人账户中充值获得代币，发布问卷时冻结相应奖励金额的代币，问卷完成时支付对应的代币作为给任务完成者的奖励。当任务发起者为组织时，扣除的将会是组织的代币，组织的代币由组织成员向组织转移代币获得。

- 任务完成者：任务完成者通过完成任务并通过审核获得代币。当代币累计到一定程度，任务完成者可以在个人账户中将代币提现。为了激励用户，要对用户的历史代币获取信息具有详细的记录列表，并在个人账户中进行体现。

### 前置条件

支持高并发的交易的数据库设计；激励性的网页图像动画设计。

### 成功保证

发起者和完成者能够进行代币支付服务。

### 主成功场景（或基本流程）

- 用户点击菜单栏按钮，点击充值，输入金额，确认充值，充值成功；
- 发布者审核并确认任务结束后，系统自动将对应金额的代币从发布者的账户中扣除，在接收者的账户中增加；

- 用户输入交易时间、名称，搜索历史交易（转出/转入）记录

### 扩展（或替代流程）

- a. 用户点击菜单栏按钮，点击充值后放弃充值，返回主界面；

### 特殊需求

发布者发布任务时需要账户中存在足够的总金额来完成所有报酬转账。

### 发生频率

经常发生

### 未决问题

- 金融账户的一致性和安全性问题；
- 接入微信/支付宝API；


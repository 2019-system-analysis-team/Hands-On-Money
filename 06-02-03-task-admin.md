# Case 3 任务管理

## 用例图

![任务管理](https://s2.ax1x.com/2019/06/23/ZCL6Z4.png)



### 范围

全应用

### 级别

用户目标

### 主要参与者

任务发起者(包括组织)、(潜在的)任务完成者

### 涉及关注点

- 任务发起者：任务发起的过程中具有充分的引导，设定相应的必填字段。可以使用模板创建任务，任务流程组件应出现在方便找到的位置。任务在创建过程中，可以自动/手动保存在草稿箱中。任务创建结束后，进入任务发布界面。任务发布可以及时发布或者定时发布，定时发布的任务可以随时撤销到草稿箱。在任务成功发布的同时，应当扣除指定数量的代币以供任务完成者兑付。在任务完成审核阶段，发起者应当收到审核请求的推送。审核通过，判定为任务完成，支付代币。评价。
- 任务完成者：接收任务之前，应得到与个人偏好最为接近的任务推荐（以在可领取任务的界面中的任务列表的形式），并且根据关注的用户/组织/tag获得任务的推送（以系统推送通知的形式）。可领取任务列表中不应该出现因为不符合任务限制要求而不能被该用户选择的任务。任务接收者可以根据任务发布的时间、奖励等字段进行过滤和排序。任务完成待审核阶段，应该自动向发起者发出审核请求推送。完成审核后，收到任务完成通知，获得代币。评价。

### 前置条件

支持结构化数据写入，查询，更新的任务数据库表；支付系统；任务项审核流程；推送系统；评论系统。

### 成功保证

按照限制更新任务数据库表，用户/组织代币，更新评论记录。

### 主成功场景（或基本流程）

1. 任务创建者进入创建任务表单，填写任务基本信息，填写任务描述，添加任务步骤或添加问卷问题，提交创建，创建成功；
2. 任务创建者进入“我的任务”，点击任务查看接收者列表，确认任务完成；
3. 任务接收者进入任务市场，浏览任务列表；
4. 任务接收者进入任务市场，输入任务名称或创建者名称，确认搜索，获得符合条件的任务列表；
5. 任务接收者进入任务市场，设置报酬、标签等条件搜索项，确认搜索，获得符合条件的任务列表；
6. 任务接收者进入任务详情页面，浏览任务详细信息，点解”接受“开始任务；
7. 任务接收者进入任务，填写问卷，提交，完成任务，等待创建者审核；
8. 任务接收者进入任务，点击完成任务步骤，提交完成，等待创建者审核；

### 扩展（或替代流程）

- a.任务接受者点击接受任务，不满足任务的接收者限制条件：
  1. 接受任务失败
  2. 弹出提示
- 3a.任务创建者未设置任何任务步骤即提交发布任务：
  1. 发布任务失败
  2. 弹出提示任务步骤必须大于等于1；
- 5a.任务创建者的账户余额低于任务报酬总金额：
  1. 发布任务失败；
  2. 弹出提示账户余额过低；

### 特殊需求

将任务步骤转变为问卷问题

### 发生频率

经常发生

### 未决问题

- 任务草稿箱
- 撤回任务的问题
- 不同用户获取当前任务状态的时候，如何保证数据一致性问题
- 发布任务时即冻结发布者任务者的对应金额的问题；



## 活动图

### 创建任务活动图

![ZCLfRx.png](C:\dashboard\assets\ZCLfRx.png)

### 接受任务活动图

![ZCLhz6.png](https://s2.ax1x.com/2019/06/23/ZCLhz6.png)

### 发布者审核任务活动图

![ZCLWJ1.png](https://s2.ax1x.com/2019/06/23/ZCLWJ1.png)